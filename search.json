[{"path":"https://alkemalab.github.io/fpet2/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 fpet2 authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://alkemalab.github.io/fpet2/articles/localnational.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"FPET: Local fitting for national estimation for all women","text":"vignette obtain national estimates FP indicators women. use local fits.","code":"library(fpet2) options(cmdstanr_warn_inits = FALSE)"},{"path":"https://alkemalab.github.io/fpet2/articles/localnational.html","id":"read-data-for-all-countries","dir":"Articles","previous_headings":"","what":"Read data for all countries","title":"FPET: Local fitting for national estimation for all women","text":"use Track20 survey data base UNPD population estimates:","code":"data_folder <- here::here(\"data-raw\") survey_data_file <- file.path(data_folder, \"Track20 2025 Database for FPET2 051325.csv\") nat_population_data_file <- file.path(data_folder, \"population_counts.rds\") # read inputs survey_df_all <- readr::read_csv(survey_data_file, show_col_types = FALSE) population_df_all <- readRDS(nat_population_data_file)"},{"path":"https://alkemalab.github.io/fpet2/articles/localnational.html","id":"model-fitting","dir":"Articles","previous_headings":"","what":"Model fitting","title":"FPET: Local fitting for national estimation for all women","text":"First choose country (division_numeric_code country names available fpet2::regions_all): Note current package, model needs compiled , takes little . (Note: 2024 version, packaged model using instantiate, can consider ). text indicating model assumptions made married women, followed assumptions unmarried women. Let’s plot!    model fit object also contains estimates, can used custom plotting tables. examples:","code":"division_numeric_code_select <- 768 # Togo results_national <- fit_fpem(   survey_df = survey_df_all |>     dplyr::filter(division_numeric_code == division_numeric_code_select),   population_df = population_df_all |>     dplyr::filter(division_numeric_code == division_numeric_code_select),   service_statistic_df = NULL,   subnational = FALSE,   regions_dat = fpet2::regions_all ) ## [1] \"This is the FPET2025 version 1.2 (released November 24, 2025)!\" ## [1] \"When imputing SEs for DHS, we use the effective sample size of its preceding survey\" ## Joining with `by = join_by(record_id_fixed)` ## Joining with `by = join_by(record_id_fixed)` ## [1] \"We define possible outliers based on column possible_outlier\" ## [1] \"We use a global fit, and take selected settings from there.\" ## [1] \"settings for the spline_degree and num_knots taken from global run\" ## [1] \"Setting for tstar taken from global run\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"We fix all sigmas of hierarchical models for demand and ds.\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"We fix all sigmas of hierarchical models for demand and ds.\" ## [1] \"Local run, we only use data for TGO\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"We fix all sigmas of hierarchical models.\" ## [1] \"When imputing SEs for DHS, we use the effective sample size of its preceding survey\" ## Joining with `by = join_by(record_id_fixed)` ## Joining with `by = join_by(record_id_fixed)` ## [1] \"We define possible outliers based on column possible_outlier\" ## [1] \"We use a global fit, and take selected settings from there.\" ## [1] \"settings for the spline_degree and num_knots taken from global run\" ## [1] \"Setting for tstar taken from global run\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"We fix all sigmas of hierarchical models for demand and ds.\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"We fix all sigmas of hierarchical models for demand and ds.\" ## [1] \"Local run, we only use data for TGO\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"We fix all sigmas of hierarchical models.\" ## Running MCMC with 4 parallel chains... ##  ## Chain 1 Iteration:   1 / 350 [  0%]  (Warmup)  ## Chain 2 Iteration:   1 / 350 [  0%]  (Warmup)  ## Chain 3 Iteration:   1 / 350 [  0%]  (Warmup)  ## Chain 4 Iteration:   1 / 350 [  0%]  (Warmup)  ## Chain 2 Iteration:  50 / 350 [ 14%]  (Warmup)  ## Chain 3 Iteration:  50 / 350 [ 14%]  (Warmup)  ## Chain 1 Iteration:  50 / 350 [ 14%]  (Warmup)  ## Chain 4 Iteration:  50 / 350 [ 14%]  (Warmup)  ## Chain 2 Iteration: 100 / 350 [ 28%]  (Warmup)  ## Chain 3 Iteration: 100 / 350 [ 28%]  (Warmup)  ## Chain 1 Iteration: 100 / 350 [ 28%]  (Warmup)  ## Chain 2 Iteration: 150 / 350 [ 42%]  (Warmup)  ## Chain 2 Iteration: 151 / 350 [ 43%]  (Sampling)  ## Chain 3 Iteration: 150 / 350 [ 42%]  (Warmup)  ## Chain 3 Iteration: 151 / 350 [ 43%]  (Sampling)  ## Chain 4 Iteration: 100 / 350 [ 28%]  (Warmup)  ## Chain 1 Iteration: 150 / 350 [ 42%]  (Warmup)  ## Chain 1 Iteration: 151 / 350 [ 43%]  (Sampling)  ## Chain 2 Iteration: 200 / 350 [ 57%]  (Sampling)  ## Chain 3 Iteration: 200 / 350 [ 57%]  (Sampling)  ## Chain 4 Iteration: 150 / 350 [ 42%]  (Warmup)  ## Chain 4 Iteration: 151 / 350 [ 43%]  (Sampling)  ## Chain 1 Iteration: 200 / 350 [ 57%]  (Sampling)  ## Chain 2 Iteration: 250 / 350 [ 71%]  (Sampling)  ## Chain 3 Iteration: 250 / 350 [ 71%]  (Sampling)  ## Chain 1 Iteration: 250 / 350 [ 71%]  (Sampling)  ## Chain 4 Iteration: 200 / 350 [ 57%]  (Sampling)  ## Chain 2 Iteration: 300 / 350 [ 85%]  (Sampling)  ## Chain 3 Iteration: 300 / 350 [ 85%]  (Sampling)  ## Chain 1 Iteration: 300 / 350 [ 85%]  (Sampling)  ## Chain 4 Iteration: 250 / 350 [ 71%]  (Sampling)  ## Chain 2 Iteration: 350 / 350 [100%]  (Sampling)  ## Chain 2 finished in 7.7 seconds. ## Chain 3 Iteration: 350 / 350 [100%]  (Sampling)  ## Chain 3 finished in 7.9 seconds. ## Chain 1 Iteration: 350 / 350 [100%]  (Sampling)  ## Chain 1 finished in 8.1 seconds. ## Chain 4 Iteration: 300 / 350 [ 85%]  (Sampling)  ## Chain 4 Iteration: 350 / 350 [100%]  (Sampling)  ## Chain 4 finished in 8.7 seconds. ##  ## All 4 chains finished successfully. ## Mean chain execution time: 8.1 seconds. ## Total execution time: 8.8 seconds. ##  ## [1] \"Chains finished, now calculating estimates (can take a little while)\" ## Joining with `by = join_by(year, marital_status)` plots_all <- plot_estimates_local_all(   results = results_national,   subnational  = FALSE,   dat_emu = results_national$dat_emu,   save_plots = FALSE) print(plots_all) ## $TGO ## $TGO$married ##  ## $TGO$unmarried ##  ## $TGO$all results_national$estimates |>   dplyr::filter(marital_status == \"all\") ## # A tibble: 11,712 × 9 ##    iso    year indicator         marital_status percentile division_numeric_code ##    <chr> <dbl> <chr>             <chr>          <chr>                      <dbl> ##  1 TGO    1970 contraceptive_us… all            mean                         768 ##  2 TGO    1970 contraceptive_us… all            mean                         768 ##  3 TGO    1970 contraceptive_us… all            2.5%                         768 ##  4 TGO    1970 contraceptive_us… all            2.5%                         768 ##  5 TGO    1970 contraceptive_us… all            5%                           768 ##  6 TGO    1970 contraceptive_us… all            5%                           768 ##  7 TGO    1970 contraceptive_us… all            10%                          768 ##  8 TGO    1970 contraceptive_us… all            10%                          768 ##  9 TGO    1970 contraceptive_us… all            50%                          768 ## 10 TGO    1970 contraceptive_us… all            50%                          768 ## # ℹ 11,702 more rows ## # ℹ 3 more variables: region_code <lgl>, measure <chr>, value <dbl> results_national$estimates |>   dplyr::filter(measure == \"population_count\") ## # A tibble: 17,568 × 9 ##    iso    year indicator         marital_status percentile division_numeric_code ##    <chr> <dbl> <chr>             <chr>          <chr>                      <dbl> ##  1 TGO    1970 contraceptive_us… married        mean                         768 ##  2 TGO    1970 contraceptive_us… married        2.5%                         768 ##  3 TGO    1970 contraceptive_us… married        5%                           768 ##  4 TGO    1970 contraceptive_us… married        10%                          768 ##  5 TGO    1970 contraceptive_us… married        50%                          768 ##  6 TGO    1970 contraceptive_us… married        90%                          768 ##  7 TGO    1970 contraceptive_us… married        95%                          768 ##  8 TGO    1970 contraceptive_us… married        97.5%                        768 ##  9 TGO    1970 contraceptive_us… married        mean                         768 ## 10 TGO    1970 contraceptive_us… married        2.5%                         768 ## # ℹ 17,558 more rows ## # ℹ 3 more variables: region_code <lgl>, measure <chr>, value <dbl>"},{"path":"https://alkemalab.github.io/fpet2/articles/workflow_globalnationalfitting.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Workflow for FPET global fitting for national-level estimation","text":"vignette illustrate global fitting national estimation family planning indicators using FPET2 R package.","code":"library(fpet2) options(cmdstanr_warn_inits = FALSE)"},{"path":"https://alkemalab.github.io/fpet2/articles/workflow_globalnationalfitting.html","id":"global-survey-data-base","dir":"Articles","previous_headings":"","what":"Global survey data base","title":"Workflow for FPET global fitting for national-level estimation","text":"global fitting, use global data base survey data. also use meta information countries world regions. Read data Global national model fitting done separately per marital group. illustrate married women. process data marital group:","code":"data_folder <- here::here(\"data-raw\") survey_data_file <- file.path(data_folder, \"Track20 2025 Database for FPET2 051325.csv\") survey_df_all <- readr::read_csv(survey_data_file, show_col_types = FALSE) is_married <- TRUE dat <- process_data(survey_df_all,                     regions_dat = fpet2::regions_all,                     is_married = is_married) ## [1] \"When imputing SEs for DHS, we use the effective sample size of its preceding survey\" ## Joining with `by = join_by(record_id_fixed)` ## Joining with `by = join_by(record_id_fixed)` ## [1] \"We define possible outliers based on column possible_outlier\""},{"path":"https://alkemalab.github.io/fpet2/articles/workflow_globalnationalfitting.html","id":"model-settings-mcmc-settings-and-output-directory","dir":"Articles","previous_headings":"","what":"Model settings: MCMC settings and output directory","title":"Workflow for FPET global fitting for national-level estimation","text":"model fitting, define MCMC settings. can choose test setting longer run. use test setting illustration . NOTE PRODUCE WARNINGS RESULTS USED!! fitting model, outputs saved output directory. different options define directory. default, directory automatically created one directory package’s directory, directory called bayestransition_output. Alternatively (easier article), user can specify output directory use:","code":"# test settings chains = 4 iter_sampling = 5 iter_warmup = 5  # longer run # chains = 16 # iter_sampling = 50 # iter_warmup = 150 # Create an output directory in a temporary location output_dir <- file.path(tempdir(), \"vignette_output\") dir.create(output_dir, showWarnings = FALSE)  # Print the path so the user knows where to find it cat(\"Outputs are saved in:\", output_dir, \"\\n\") ## Outputs are saved in: /tmp/Rtmp8bOERs/vignette_output"},{"path":"https://alkemalab.github.io/fpet2/articles/workflow_globalnationalfitting.html","id":"model-fitting","dir":"Articles","previous_headings":"","what":"Model fitting","title":"Workflow for FPET global fitting for national-level estimation","text":"fit_model function used global model fitting. help function explains use. argument run_step used define type model fitting. global national fitting, following fits: runstep = \"step1a\": Get longterm trends fitting model witout AR(1) deviation terms; runstep = \"step1b\": Estimate parameters governing country-specific variations transition functions, short-term fluctuations data quality; runstep = \"step2\": Estimate parameters associated traditional use. Let’s start 1a: Outputs stored next fit 1b needs summary information 1a passed global_fit object. pass one just fitted. fit1b, also update outlier classifications survey data used, allow data points outlying fit 1a possibly outlying, follows: Now let’s fit step 1b: step 2, parameters traditional use estimated: can plot estimates using plot_estimates_local function. Relevant code added . showing results hereto avoid confusion, given test settings used, results incorrect. Let’s create results first: Add uncertainty observations (can display 95% CIs associated data point): Now let’s plot! (, showing results…)","code":"fit1a <- fit_model(runstep = \"step1a\",                    survey_df = dat,                    is_married = is_married,                    get_posteriors = FALSE,                    output_dir = output_dir,                     chains = chains,                    iter_sampling =  iter_sampling,                    iter_warmup = iter_warmup) ## [1] \"For 1a, we take all levels from the fit_model inputs\" ## [1] \"We do not fix any terms or sigmas of hierarchical models.\" ## [1] \"For 1a, we take all levels from the fit_model inputs\" ## [1] \"We do not fix any terms or sigmas of hierarchical models.\" ## [1] \"We do give nonSE to DHS (by temporarily renaming DHS into DHS0)\" ## [1] \"output directory is /tmp/Rtmp8bOERs/vignette_output\" ## Running MCMC with 4 parallel chains... ##  ## Chain 1 WARNING: No variance estimation is  ## Chain 1          performed for num_warmup < 20  ## Chain 2 WARNING: No variance estimation is  ## Chain 2          performed for num_warmup < 20  ## Chain 3 WARNING: No variance estimation is  ## Chain 3          performed for num_warmup < 20  ## Chain 4 WARNING: No variance estimation is  ## Chain 4          performed for num_warmup < 20  ## Chain 3 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 1 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 2 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 4 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 2 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 1 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 2 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 2 finished in 0.5 seconds. ## Chain 1 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 1 finished in 0.8 seconds. ## Chain 3 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 3 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 3 finished in 3.2 seconds. ## Chain 4 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 4 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 4 finished in 13.4 seconds. ##  ## All 4 chains finished successfully. ## Mean chain execution time: 4.5 seconds. ## Total execution time: 14.0 seconds. ## Warning: 20 of 20 (100.0%) transitions ended with a divergence. ## See https://mc-stan.org/misc/warnings for details. fit1a$output_dir ## [1] \"/tmp/Rtmp8bOERs/vignette_output\" dat_updated <- update_nooutlier_in_global_fit(fit1a, is_married) ## Warning: Dropping 'draws_df' class as required metadata was removed. ## Warning: Dropping 'draws_df' class as required metadata was removed. ## Joining with `by = join_by(i)` ## Joining with `by = join_by(c)` fit1b <- fit_model(runstep = \"step1b\",                    global_fit = fit1a,                    survey_df = dat_updated,                    is_married = is_married,                     output_dir = output_dir,                     get_posteriors = FALSE,                    chains = chains,                    iter_sampling =  iter_sampling,                    iter_warmup = iter_warmup ) ## [1] \"We use a global fit, and take selected settings from there.\" ## [1] \"settings for the spline_degree and num_knots taken from global run\" ## [1] \"Setting for tstar taken from global run\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"For sigma terms in hierarchical models for demand and ds, we fix things up to the 2nd-lowest level.\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"For sigma terms in hierarchical models for demand and ds, we fix things up to the 2nd-lowest level.\" ## [1] \"output directory is /tmp/Rtmp8bOERs/vignette_output\" ## Running MCMC with 4 parallel chains... ##  ## Chain 1 WARNING: No variance estimation is  ## Chain 1          performed for num_warmup < 20  ## Chain 2 WARNING: No variance estimation is  ## Chain 2          performed for num_warmup < 20  ## Chain 3 WARNING: No variance estimation is  ## Chain 3          performed for num_warmup < 20  ## Chain 4 WARNING: No variance estimation is  ## Chain 4          performed for num_warmup < 20  ## Chain 1 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 2 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 3 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 4 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 2 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 2 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 2 finished in 1.9 seconds. ## Chain 3 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 3 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 3 finished in 3.2 seconds. ## Chain 4 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 1 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 4 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 4 finished in 3.7 seconds. ## Chain 1 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 1 finished in 4.2 seconds. ##  ## All 4 chains finished successfully. ## Mean chain execution time: 3.3 seconds. ## Total execution time: 4.7 seconds. ## Warning: 20 of 20 (100.0%) transitions ended with a divergence. ## See https://mc-stan.org/misc/warnings for details. fit2 <- fit_model(runstep = \"step2\",                    global_fit = fit1b,                    survey_df = dat_updated,                    is_married = is_married,                    get_posteriors = FALSE,                   output_dir = output_dir,                    chains = chains,                   iter_sampling =  iter_sampling,                   iter_warmup = iter_warmup) ## [1] \"We use a global fit, and take selected settings from there.\" ## [1] \"settings for the spline_degree and num_knots taken from global run\" ## [1] \"Setting for tstar taken from global run\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"We fix all sigmas of hierarchical models for demand and ds.\" ## [1] \"We take all hier terms from the global fit, using prefix\" ## [1] \"For hierarchical terms, we fix things up to the 2nd-lowest level.\" ## [1] \"We fix all sigmas of hierarchical models for demand and ds.\" ## [1] \"For 2, we take all levels for trad from the fit_model inputs\" ## [1] \"We do not fix any terms or sigmas of hierarchical models.\" ## [1] \"output directory is /tmp/Rtmp8bOERs/vignette_output\" ## Running MCMC with 4 parallel chains... ##  ## Chain 1 WARNING: No variance estimation is  ## Chain 1          performed for num_warmup < 20  ## Chain 2 WARNING: No variance estimation is  ## Chain 2          performed for num_warmup < 20  ## Chain 3 WARNING: No variance estimation is  ## Chain 3          performed for num_warmup < 20  ## Chain 4 WARNING: No variance estimation is  ## Chain 4          performed for num_warmup < 20  ## Chain 1 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 2 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 3 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 4 Iteration: 1 / 10 [ 10%]  (Warmup)  ## Chain 1 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 1 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 4 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 1 finished in 1.5 seconds. ## Chain 4 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 4 finished in 1.9 seconds. ## Chain 2 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 2 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 2 finished in 4.8 seconds. ## Chain 3 Iteration: 6 / 10 [ 60%]  (Sampling)  ## Chain 3 Iteration: 10 / 10 [100%]  (Sampling)  ## Chain 3 finished in 6.3 seconds. ##  ## All 4 chains finished successfully. ## Mean chain execution time: 3.6 seconds. ## Total execution time: 7.1 seconds. ## Warning: 20 of 20 (100.0%) transitions ended with a divergence. ## See https://mc-stan.org/misc/warnings for details. results2 <- list() results2$estimates <- get_estimates_globalruns(   samples = fit2$samples,    geo_unit_index = fit2$geo_unit_index,   time_index = fit2$time_index,   marital_status = ifelse(is_married, \"married\", \"unmarried\"),   return_samples = FALSE) results2$observations <- add_uncertainty_in_obs(fit  = fit2) plots <-   plot_estimates_local_all(       results = results2,       marital_status_all =  ifelse(is_married, \"married\", \"unmarried\"),       indicator_select_all =  c(\"contraceptive_use_modern\",                  \"unmet_need_modern\",                  \"demand\", #\"demand_satisfied_modern\",                  \"contraceptive_use_traditional\"),       save_plots = FALSE) # plots are in a list, eg check  plots[[1]][[1]]"},{"path":"https://alkemalab.github.io/fpet2/articles/workflow_globalnationalfitting.html","id":"local-fitting","dir":"Articles","previous_headings":"","what":"Local fitting","title":"Workflow for FPET global fitting for national-level estimation","text":"local fitting, fit_model function can used well, using runstep = \"local_national\". results local fitting one marital group. local fitting women, function fit_fpem can used (see article).","code":""},{"path":"https://alkemalab.github.io/fpet2/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Leontine Alkema. Author, maintainer. Herbert Susmann. Author. Shauna Mooney. Author. Evan Ray. Author.","code":""},{"path":"https://alkemalab.github.io/fpet2/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Alkema L, Susmann H, Mooney S, Ray E (2025). fpet2: R Package Estimation Forecasting Family Planning Indicators. R package version 1.2, https://github.com/AlkemaLab/fpet2.","code":"@Manual{,   title = {fpet2: An R Package for Estimation and Forecasting of Family Planning Indicators},   author = {Leontine Alkema and Herbert Susmann and Shauna Mooney and Evan Ray},   year = {2025},   note = {R package version 1.2},   url = {https://github.com/AlkemaLab/fpet2}, }"},{"path":[]},{"path":"https://alkemalab.github.io/fpet2/index.html","id":"section","dir":"","previous_headings":"","what":"An R Package for Estimation and Forecasting of Family Planning Indicators","title":"An R Package for Estimation and Forecasting of Family Planning Indicators","text":"R package fitting Bayesian transition models produce estimates projections family planning indicators. work supported, whole part, Bill & Melinda Gates Foundation (INV-00844).","code":""},{"path":"https://alkemalab.github.io/fpet2/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"An R Package for Estimation and Forecasting of Family Planning Indicators","text":"Dependencies cmdstanr: Instructions installing cmdstanr available Getting started guide. R package localhierarchy, available github.com/AlkemaLab/localhierarchy. can install usingremotes::install_github(\"AlkemaLab/localhierarchy\"). Install fpet2 Github: remotes::install_github(\"AlkemaLab/fpet2\")","code":""},{"path":"https://alkemalab.github.io/fpet2/index.html","id":"information","dir":"","previous_headings":"","what":"Information","title":"An R Package for Estimation and Forecasting of Family Planning Indicators","text":"modeling approach described Alkema et al. (2024). approach builds collaborative research United Nations Population Division (UNPD). References earlier related work included . national-level data population estimates marital status compiled published United Nations Population Division (UNPD). Track20 compiled database subnational data. References describe current approach: FPET overview: L. Alkema, H. Susmann, E. Ray, S. Mooney, N. Cahill, K. Bietsch, . Jayachandran, et al. (2024). Statistical Demography Meets Ministry Health: Case Family Planning Estimation Tool. See https://doi.org/10.48550/arXiv.2501.00007. Use service statistics data (Estimated modern use): S. Mooney, L. Alkema, E. Sonneveldt, K. Bietsch, J. Williamson, N. Cahill (2024). Enhancing Use Family Planning Service Statistics Using Bayesian Modelling Approach Inform Estimates Modern Contraceptive Use Low- Middle-Income Countries. See https://doi.org/10.48550/arXiv.2412.08606. References describe earlier approaches: Alkema, L. et al. (2013). National, regional global rates trends contraceptive prevalence unmet need family planning 1990 2015: systematic comprehensive analysis. Lancet. Available http://www.thelancet.com/journals/lancet/article/PIIS0140-6736(12)62204-1/abstract. Cahill et al., (2017). Modern contraceptive use, unmet need, demand satisfied among women reproductive age married union focus countries Family Planning 2020 initiative: systematic analysis using Family Planning Estimation Tool. Lancet. Available http://www.thelancet.com/journals/lancet/article/PIIS0140-6736(17)33104-5/fulltext. Kantorova et al. (2020). Estimating progress towardsmeeting women’s contraceptive needs 185 countries: Bayesian hierarchical modellingstudy. PLOS Medicine, 17(2):e1003026. Available https://journals.plos.org/plosmedicine/article?id=10.1371/journal.pmed.1003026. Wheldon et al. (2018). Methods estimating projecting key family planning indicators among women reproductive age. United Nations, Department Economic Social Affairs, Population Division, Technical Paper . 2. New York: United Nations. Available https://www.un.org/en/development/desa/population/publications/pdf/technical/TP2018-2.pdf. model written R Stan. questions, feedback suggestions, please contact Leontine lalkema()umass.edu.","code":""},{"path":"https://alkemalab.github.io/fpet2/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"An R Package for Estimation and Forecasting of Family Planning Indicators","text":"See articles package website, https://alkemalab.github.io/fpet2.","code":""},{"path":"https://alkemalab.github.io/fpet2/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"An R Package for Estimation and Forecasting of Family Planning Indicators","text":"Please cite follows:","code":"citation(\"fpet2\") #> To cite package 'fpet2' in publications use: #>  #>   Alkema L, Susmann H, Mooney S, Ray E (2025). _fpet2: An R Package for #>   Estimation and Forecasting of Family Planning Indicators_. R package #>   version 1.2, <https://github.com/AlkemaLab/fpet2>. #>  #> A BibTeX entry for LaTeX users is #>  #>   @Manual{, #>     title = {fpet2: An R Package for Estimation and Forecasting of Family Planning Indicators}, #>     author = {Leontine Alkema and Herbert Susmann and Shauna Mooney and Evan Ray}, #>     year = {2025}, #>     note = {R package version 1.2}, #>     url = {https://github.com/AlkemaLab/fpet2}, #>   }"},{"path":"https://alkemalab.github.io/fpet2/reference/ad_hoc_blankmodern_ifequals.html","id":null,"dir":"Reference","previous_headings":"","what":"Blank out modern use if modern cp and any CP are equal — ad_hoc_blankmodern_ifequals","title":"Blank out modern use if modern cp and any CP are equal — ad_hoc_blankmodern_ifequals","text":"Blank modern use modern cp CP equal","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/ad_hoc_blankmodern_ifequals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Blank out modern use if modern cp and any CP are equal — ad_hoc_blankmodern_ifequals","text":"","code":"ad_hoc_blankmodern_ifequals(obs)"},{"path":"https://alkemalab.github.io/fpet2/reference/ad_hoc_blankmodern_ifequals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Blank out modern use if modern cp and any CP are equal — ad_hoc_blankmodern_ifequals","text":"obs data frame contraceptive_use_any, contraceptive_use_modern, contraceptive_use_traditional","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/ad_hoc_blankmodern_ifequals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Blank out modern use if modern cp and any CP are equal — ad_hoc_blankmodern_ifequals","text":"data frame contraceptive_use_modern set NA equals contraceptive_use_any contraceptive_use_traditional NA","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/ad_hoc_calculate_cp_trad.html","id":null,"dir":"Reference","previous_headings":"","what":"Ad hoc calculation of CP Traditional — ad_hoc_calculate_cp_trad","title":"Ad hoc calculation of CP Traditional — ad_hoc_calculate_cp_trad","text":"Taken UNPD/fpemlocal: try calculate cp traditional modern","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/ad_hoc_calculate_cp_trad.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ad hoc calculation of CP Traditional — ad_hoc_calculate_cp_trad","text":"","code":"ad_hoc_calculate_cp_trad(obs)"},{"path":"https://alkemalab.github.io/fpet2/reference/ad_hoc_calculate_cp_trad.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ad hoc calculation of CP Traditional — ad_hoc_calculate_cp_trad","text":"obs data frame contraceptive_use_any, contraceptive_use_modern, contraceptive_use_traditional","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/ad_hoc_calculate_cp_trad.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ad hoc calculation of CP Traditional — ad_hoc_calculate_cp_trad","text":"data frame contraceptive_use_traditional filled possible","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_bias_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Add bias info — add_bias_info","title":"Add bias info — add_bias_info","text":"Add columns any_bias, trad_bias, tradorany_bias","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_bias_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add bias info — add_bias_info","text":"","code":"add_bias_info(data, married)"},{"path":"https://alkemalab.github.io/fpet2/reference/add_bias_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add bias info — add_bias_info","text":"data survey data married boolean","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_bias_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add bias info — add_bias_info","text":"tibble based data added columns any_bias, trad_bias, tradorany_bias","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_natdata_for_aggregates.html","id":null,"dir":"Reference","previous_headings":"","what":"Add national data for aggregates — add_natdata_for_aggregates","title":"Add national data for aggregates — add_natdata_for_aggregates","text":"function processes national data adds aggregate dataset.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_natdata_for_aggregates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add national data for aggregates — add_natdata_for_aggregates","text":"","code":"add_natdata_for_aggregates(national_dat_df, regions_dat, is_married)"},{"path":"https://alkemalab.github.io/fpet2/reference/add_natdata_for_aggregates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add national data for aggregates — add_natdata_for_aggregates","text":"national_dat_df national survey data prior processing regions_dat region metadata is_married boolean","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_natdata_for_aggregates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add national data for aggregates — add_natdata_for_aggregates","text":"Processed national data region_code set \"National\"","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_outlier_related_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Add possible-outlier related columns — add_outlier_related_columns","title":"Add possible-outlier related columns — add_outlier_related_columns","text":"survey data, add columns possible_outliers possible_outlier_userinput. Possible outliers assessed using `assign_outliers` function.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_outlier_related_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add possible-outlier related columns — add_outlier_related_columns","text":"","code":"add_outlier_related_columns(dat)"},{"path":"https://alkemalab.github.io/fpet2/reference/add_outlier_related_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add possible-outlier related columns — add_outlier_related_columns","text":"dat survey data","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_outlier_related_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add possible-outlier related columns — add_outlier_related_columns","text":"data frame new columns possible_outlier (1 = possible outlier, 0 = possible outlier) possible_outlier_userinput (NA)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_uncertainty_in_obs.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate uncertainty in observations for fit to one marital group — add_uncertainty_in_obs","title":"Calculate uncertainty in observations for fit to one marital group — add_uncertainty_in_obs","text":"one marital group, adds uncertainty observations based sampling errors , specified, also adds NSE uncertainty. used global fits one marital group.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_uncertainty_in_obs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate uncertainty in observations for fit to one marital group — add_uncertainty_in_obs","text":"","code":"add_uncertainty_in_obs(   fit,   samples_scale = NULL,   perc_low = 0.025,   perc_up = 0.975,   add_nse_uncertainty = TRUE )"},{"path":"https://alkemalab.github.io/fpet2/reference/add_uncertainty_in_obs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate uncertainty in observations for fit to one marital group — add_uncertainty_in_obs","text":"fit list fit information, including data posterior samples samples_scale provided, used instead fit$samples$draws(\"DMX_scale\") perc_low percentile lower bound uncertainty interval, defaults 0.025 perc_up percentile upper bound uncertainty interval, defaults 0.975 add_nse_uncertainty boolean, TRUE (default), adds NSE uncertainty addition sampling error uncertainty is_married boolean","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_uncertainty_in_obs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate uncertainty in observations for fit to one marital group — add_uncertainty_in_obs","text":"survey data columns point estimates uncertainty intervals added","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_uncertainty_in_obs_allwomen.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate uncertainty in observations for all-women fit — add_uncertainty_in_obs_allwomen","title":"Calculate uncertainty in observations for all-women fit — add_uncertainty_in_obs_allwomen","text":"-women FPET fit, adds uncertainty observations based sampling errors , specified, also adds NSE uncertainty.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_uncertainty_in_obs_allwomen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate uncertainty in observations for all-women fit — add_uncertainty_in_obs_allwomen","text":"","code":"add_uncertainty_in_obs_allwomen(   samples,   data_allwomen,   is_married = TRUE,   perc_low = 0.025,   perc_up = 0.975,   add_nse_uncertainty = TRUE )"},{"path":"https://alkemalab.github.io/fpet2/reference/add_uncertainty_in_obs_allwomen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate uncertainty in observations for all-women fit — add_uncertainty_in_obs_allwomen","text":"samples posterior::draws object cmdstanr fit data_allwomen list data women used model fitting is_married boolean perc_low percentile lower bound uncertainty interval, defaults 0.025 perc_up percentile upper bound uncertainty interval, defaults 0.975 add_nse_uncertainty boolean, TRUE (default), adds NSE uncertainty addition sampling error uncertainty","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/add_uncertainty_in_obs_allwomen.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate uncertainty in observations for all-women fit — add_uncertainty_in_obs_allwomen","text":"survey data marital groups columns point estimates uncertainty intervals added","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/assign_outliers.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign outliers — assign_outliers","title":"Assign outliers — assign_outliers","text":"Function assign outliers based set rules. columns possible_outlier possible_outlier_userinput present, used define outliers.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/assign_outliers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign outliers — assign_outliers","text":"","code":"assign_outliers(fp_dat, outlier_record_ids = NULL, married)"},{"path":"https://alkemalab.github.io/fpet2/reference/assign_outliers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign outliers — assign_outliers","text":"fp_dat survey data outlier_record_ids record_ids outliers () married boolean, needed bias needs assessed","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/assign_outliers.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign outliers — assign_outliers","text":"data frame new column nooutlier (1 = outlier, 0 = outlier)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/compile_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Compile a Stan model — compile_model","title":"Compile a Stan model — compile_model","text":"Compile Stan model","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/compile_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compile a Stan model — compile_model","text":"","code":"compile_model(   variational,   nthreads_variational,   force_recompile,   stan_file_path )"},{"path":"https://alkemalab.github.io/fpet2/reference/compile_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compile a Stan model — compile_model","text":"variational boolean nthreads_variational variational, number threads use force_recompile boolean stan_file_path path stan file","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/compile_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compile a Stan model — compile_model","text":"cmdstanr::cmdstan_model object","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/construct_popweightmatrix_for_oneaggregateunit.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct population weight matrix for one aggregate unit — construct_popweightmatrix_for_oneaggregateunit","title":"Construct population weight matrix for one aggregate unit — construct_popweightmatrix_for_oneaggregateunit","text":"Constructs row vector population weights regions single aggregate unit.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/construct_popweightmatrix_for_oneaggregateunit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct population weight matrix for one aggregate unit — construct_popweightmatrix_for_oneaggregateunit","text":"","code":"construct_popweightmatrix_for_oneaggregateunit(   aggregation_meta_one_unit,   population_selectedyear,   name_region_index = \"region_index\" )"},{"path":"https://alkemalab.github.io/fpet2/reference/construct_popweightmatrix_for_oneaggregateunit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct population weight matrix for one aggregate unit — construct_popweightmatrix_for_oneaggregateunit","text":"aggregation_meta_one_unit tibble columns agg_unit_name region_index population_selectedyear tibble region_index population, needs include regions","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/construct_popweightmatrix_for_oneaggregateunit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct population weight matrix for one aggregate unit — construct_popweightmatrix_for_oneaggregateunit","text":"row vector weights region aggregate unit (0 region included)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/emu_global_hyperparameters.html","id":null,"dir":"Reference","previous_headings":"","what":"EMU hyperparameters — emu_global_hyperparameters","title":"EMU hyperparameters — emu_global_hyperparameters","text":"EMU hyperparameters","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/emu_global_hyperparameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EMU hyperparameters — emu_global_hyperparameters","text":"","code":"emu_global_hyperparameters"},{"path":"https://alkemalab.github.io/fpet2/reference/emu_global_hyperparameters.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"EMU hyperparameters — emu_global_hyperparameters","text":"## `emu_global_hyperparameters` tibble ss_type vistis, clients, facilities, users mean_log_sigma_type mean log SD type hierarchical sigma across-population SD type","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/emu_global_hyperparameters.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"EMU hyperparameters — emu_global_hyperparameters","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1a_married.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit1a_married — fit1a_married","title":"Global fit object fit1a_married — fit1a_married","text":"Global fit object fit1a_married","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1a_married.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit1a_married — fit1a_married","text":"","code":"fit1a_married"},{"path":"https://alkemalab.github.io/fpet2/reference/fit1a_married.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit1a_married — fit1a_married","text":"## `fit1a_married` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1a_married.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit1a_married — fit1a_married","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1a_unmarried.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit1a_unmarried — fit1a_unmarried","title":"Global fit object fit1a_unmarried — fit1a_unmarried","text":"Global fit object fit1a_unmarried","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1a_unmarried.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit1a_unmarried — fit1a_unmarried","text":"","code":"fit1a_unmarried"},{"path":"https://alkemalab.github.io/fpet2/reference/fit1a_unmarried.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit1a_unmarried — fit1a_unmarried","text":"## `fit1a_unmarried` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1a_unmarried.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit1a_unmarried — fit1a_unmarried","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1b_married.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit1b_married — fit1b_married","title":"Global fit object fit1b_married — fit1b_married","text":"Global fit object fit1b_married","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1b_married.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit1b_married — fit1b_married","text":"","code":"fit1b_married"},{"path":"https://alkemalab.github.io/fpet2/reference/fit1b_married.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit1b_married — fit1b_married","text":"## `fit1b_married` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1b_married.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit1b_married — fit1b_married","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1b_unmarried.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit1b_unmarried — fit1b_unmarried","title":"Global fit object fit1b_unmarried — fit1b_unmarried","text":"Global fit object fit1b_unmarried","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1b_unmarried.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit1b_unmarried — fit1b_unmarried","text":"","code":"fit1b_unmarried"},{"path":"https://alkemalab.github.io/fpet2/reference/fit1b_unmarried.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit1b_unmarried — fit1b_unmarried","text":"## `fit1b_unmarried` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit1b_unmarried.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit1b_unmarried — fit1b_unmarried","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit2_married.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit2_married — fit2_married","title":"Global fit object fit2_married — fit2_married","text":"Global fit object fit2_married","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit2_married.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit2_married — fit2_married","text":"","code":"fit2_married"},{"path":"https://alkemalab.github.io/fpet2/reference/fit2_married.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit2_married — fit2_married","text":"## `fit2_married` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit2_married.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit2_married — fit2_married","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit2_unmarried.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit2_unmarried — fit2_unmarried","title":"Global fit object fit2_unmarried — fit2_unmarried","text":"Global fit object fit2_unmarried","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit2_unmarried.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit2_unmarried — fit2_unmarried","text":"","code":"fit2_unmarried"},{"path":"https://alkemalab.github.io/fpet2/reference/fit2_unmarried.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit2_unmarried — fit2_unmarried","text":"## `fit2_unmarried` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit2_unmarried.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit2_unmarried — fit2_unmarried","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_fromnat_married.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit3_fromnat_married — fit3_fromnat_married","title":"Global fit object fit3_fromnat_married — fit3_fromnat_married","text":"Global fit object fit3_fromnat_married","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_fromnat_married.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit3_fromnat_married — fit3_fromnat_married","text":"","code":"fit3_fromnat_married"},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_fromnat_married.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit3_fromnat_married — fit3_fromnat_married","text":"## `fit3_fromnat_married` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_fromnat_married.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit3_fromnat_married — fit3_fromnat_married","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_fromnat_unmarried.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit3_fromnat_unmarried — fit3_fromnat_unmarried","title":"Global fit object fit3_fromnat_unmarried — fit3_fromnat_unmarried","text":"Global fit object fit3_fromnat_unmarried","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_fromnat_unmarried.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit3_fromnat_unmarried — fit3_fromnat_unmarried","text":"","code":"fit3_fromnat_unmarried"},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_fromnat_unmarried.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit3_fromnat_unmarried — fit3_fromnat_unmarried","text":"## `fit3_fromnat_unmarried` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_fromnat_unmarried.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit3_fromnat_unmarried — fit3_fromnat_unmarried","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_married.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit3_married — fit3_married","title":"Global fit object fit3_married — fit3_married","text":"Global fit object fit3_married","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_married.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit3_married — fit3_married","text":"","code":"fit3_married"},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_married.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit3_married — fit3_married","text":"## `fit3_married` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_married.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit3_married — fit3_married","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_unmarried.html","id":null,"dir":"Reference","previous_headings":"","what":"Global fit object fit3_unmarried — fit3_unmarried","title":"Global fit object fit3_unmarried — fit3_unmarried","text":"Global fit object fit3_unmarried","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_unmarried.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global fit object fit3_unmarried — fit3_unmarried","text":"","code":"fit3_unmarried"},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_unmarried.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Global fit object fit3_unmarried — fit3_unmarried","text":"## `fit3_unmarried` list global fit objects including post_summ data frame posterior summaries relevant parameters geo_unit_index data frame geo_unit info source_index data frame sources survey data indices used model time_index data frame geo_unit info settings spline settings, t_star, etc","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit3_unmarried.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Global fit object fit3_unmarried — fit3_unmarried","text":"global fit 2025","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_fpem.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit FPET national or subnational local models for ALL women, with or without EMUs. — fit_fpem","title":"Fit FPET national or subnational local models for ALL women, with or without EMUs. — fit_fpem","text":"Fit FPET national subnational local models women, without EMUs.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_fpem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit FPET national or subnational local models for ALL women, with or without EMUs. — fit_fpem","text":"","code":"fit_fpem(   survey_df,   population_df,   service_statistic_df = NULL,   subnational = FALSE,   national_dat_df = NULL,   chains = 4,   iter_sampling = 200,   iter_warmup = 150,   seed = 1234,   regions_dat,   end_year = 2030 )"},{"path":"https://alkemalab.github.io/fpet2/reference/fit_fpem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit FPET national or subnational local models for ALL women, with or without EMUs. — fit_fpem","text":"survey_df Survey data model fitting, filtered pop interest population_df Population data, filtered pop interest service_statistic_df EMU data, filtered pop interest subnational logical, TRUE fitting subnational data. subnational fits, survey_df may contain just 1 region. national_dat_df National data used/displayed subnational runs, filtered pop interest. Model fitted surveys national_dat_df survey_df. chains Number chains Stan iter_sampling Number iterations sampling iter_warmup Number iterations warmup seed Random seed Stan regions_dat Data frame region information end_year End year model, default 2030","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_fpem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit FPET national or subnational local models for ALL women, with or without EMUs. — fit_fpem","text":"results list estimates, samples, data_allwomen, observations,  dat_emu = dat_emu","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit FPET models for one marital group — fit_model","title":"Fit FPET models for one marital group — fit_model","text":"Fit FPET models one marital group","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit FPET models for one marital group — fit_model","text":"","code":"fit_model(   survey_df,   routine_df = NULL,   population_data = NULL,   DM1_y = \"logit_contraceptive_use_modern\",   DM1_se = \"se_logit_modern\",   DM2_y = \"logit_unmet_overnotmodern\",   DM2_se = \"se_logit_unmet_overnotmodern\",   year = \"year\",   source = \"data_series_type\",   area = \"iso\",   iso_select = NULL,   runstep,   global_fit = NULL,   year_star = 2004,   spline_degree = 2,   num_knots = 5,   add_dataoutliers = TRUE,   is_married = TRUE,   end_year = 2030,   transitionmodelparam = list(prefix = \"\", hierarchical_terms = list(married =     list(hierarchical_level = c(\"intercept\", \"cluster\", \"subcluster\", \"iso\"),     hierarchical_splines = c(\"intercept\", \"cluster\", \"subcluster\", \"iso\"),     hierarchical_asymptote = c(\"intercept\", \"cluster\", \"iso\")), unmarried =     list(hierarchical_level = c(\"intercept\", \"regional2_unmarried\", \"iso\"),     hierarchical_splines = c(\"intercept\", \"clusterandsa0_unmarried\", \"iso\"),     hierarchical_asymptote = c(\"intercept\", \"clusterandsa0_unmarried\", \"iso\"))),     stan_data_settings = list(married = list(Betas_upper_bound = 0.5,           Betas_lower_bound = 0.01, Ptilde_low = 0.1, Ptilde_scalarprior_sd = 3,     Ptilde_scalarprior_mean = 0, Ptilde_prior_sd_sigma_estimate = 2, Omega_scalarprior_sd     = 3, Omega_scalarprior_mean = 0, Omega_prior_sd_sigma_estimate = 2,     Betas_scalarprior_sd = 3, Betas_scalarprior_mean = -1, Betas_prior_sd_sigma_estimate     = 2), unmarried = list(Betas_upper_bound = 0.5, Betas_lower_bound = 0.01, Ptilde_low     = 0.05, Ptilde_scalarprior_sd = 3, Ptilde_scalarprior_mean = 0,     Ptilde_prior_sd_sigma_estimate = 2, Omega_scalarprior_sd = 3,           Omega_scalarprior_mean = 0, Omega_prior_sd_sigma_estimate = 2, Betas_scalarprior_sd =     3, Betas_scalarprior_mean = -1, Betas_prior_sd_sigma_estimate = 2))),   d_transitionmodelparam = list(prefix = \"d_\", hierarchical_terms = list(married =     list(hierarchical_level = c(\"intercept\", \"cluster\", \"subcluster\", \"iso\"),     hierarchical_splines = c(\"intercept\", \"cluster\", \"subcluster\", \"iso\"),     hierarchical_asymptote = c(\"intercept\", \"cluster\", \"iso\")), unmarried =     list(hierarchical_level = c(\"intercept\", \"is_unmarried_sexual_activity\",     \"hier_regional_unmarried\", \"iso\"), hierarchical_splines = c(\"intercept\",     \"clusterandsa0_unmarried\", \"iso\"), hierarchical_asymptote = c(\"intercept\",     \"is_unmarried_sexual_activity\",       \"hier_regional_unmarried\", \"iso\"))),     stan_data_settings = list(married = list(Betas_upper_bound = 0.5, Betas_lower_bound =     0.01, Ptilde_low = 0.1, Ptilde_scalarprior_sd = 3, Ptilde_scalarprior_mean = 0,     Ptilde_prior_sd_sigma_estimate = 2, Omega_scalarprior_sd = 3, Omega_scalarprior_mean     = 0, Omega_prior_sd_sigma_estimate = 2, Betas_scalarprior_sd = 3,     Betas_scalarprior_mean = -1, Betas_prior_sd_sigma_estimate = 2), unmarried =     list(Betas_upper_bound = 0.5, Betas_lower_bound = 0.01, Ptilde_low = 0.01,           Ptilde_scalarprior_sd = 3, Ptilde_scalarprior_mean = 0,     Ptilde_prior_sd_sigma_estimate = 2, Omega_scalarprior_sd = 3, Omega_scalarprior_mean     = 0, Omega_prior_sd_sigma_estimate = 2, Betas_scalarprior_sd = 3,     Betas_scalarprior_mean = -1, Betas_prior_sd_sigma_estimate = 2))),   z_transitionmodelparam = list(prefix = \"z_\", hierarchical_terms = list(married =     list(hierarchical_level = c(\"intercept\", \"cluster\", \"subcluster\", \"iso\")), unmarried     = list(hierarchical_level = c(\"intercept\", \"clusterandsa0_unmarried\", \"iso\"))),     stan_data_settings = list(married = list(Omega_scalarprior_sd = 3,     Omega_scalarprior_mean = 0, Omega_prior_sd_sigma_estimate = 2), unmarried =     list(Omega_scalarprior_sd = 3, Omega_scalarprior_mean = 0,     Omega_prior_sd_sigma_estimate = 2))),   add_subnational_hierarchy = \"region_code\",   add_aggregates = FALSE,   population_df = NULL,   add_shocks = FALSE,   extra_stan_data = list(),   held_out = FALSE,   validation_cutoff_year = NULL,   validation_run = FALSE,   generate_quantities = TRUE,   get_posteriors = TRUE,   output_dir = NULL,   runnumber = 1,   rungroup = NULL,   runname = NULL,   chains = 4,   iter_sampling = 200,   iter_warmup = 150,   add_sample = TRUE,   compile_model = TRUE,   force_recompile = FALSE,   seed = 1234,   refresh = 50,   adapt_delta = 0.9,   max_treedepth = 14,   variational = FALSE,   nthreads_variational = 8,   add_inits = TRUE )"},{"path":"https://alkemalab.github.io/fpet2/reference/fit_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit FPET models for one marital group — fit_model","text":"survey_df tibble survey data routine_df tibble routine data population_data data frame yearly population counts subnational regions. columns matching names specified year area. data frame required primary data set contains mix observations national subnational levels. year column name outcome year. source column name data source. area column name area observation iso_select ISO code use local runs runstep type run (see Details). global_fit optional object class `\"fpemplus\"`, used obtain fixed values use parameters current fit (see Details). spline_degree spline degree. Degree 2 3 supported. num_knots number spline knots. add_dataoutliers boolean indicator whether include data outliers 1b end_year end year estimates. add_shocks boolean indicator whether include shocks (yet included) extra_stan_data list additional data pass Stan model held_out binary vector indicating observations held . Set FALSE hold observations. validation_cutoff_year year use --sample validation, overwrites held_out (confirm ) validation_run boolean indicator whether validation model run generate_quantities binary vector indicating whether simulate data fitted model Setting save things get_posteriors boolean indicator whether return posterior samples output_dir output directory, defaults NULL runnumber number add runname rungroup group add runname Settings sampling runname name use run, output_dir NULL chains number chains run iter_sampling number posterior samples draw iter_warmup number warmup iterations add_sample boolean indicator whether return samples compile_model boolean indicator whether compile Stan model force_recompile boolean indicator whether force recompilation Stan model seed random seed refresh number iterations progress updates adapt_delta target acceptance rate -U-Turn Sampler max_treedepth maximum tree depth -U-Turn Sampler variational boolean indicator whether use variational inference (yet tested) nthreads_variational number threads use variational inference add_inits boolean indicator whether add initial values Stan model start_year start year estimates. t_star reference year used model. hierarchical_asymptote vector specifying hierarchical structure asymptote (see Details). hierarchical_level vector specifying hierarchical structure level reference year (see Details). hierarchical_splines vector specifying hierarchical structure spline coefficients (see Details). Betas_upper_bound upper bound splines parameters Betas_lower_bound lower bound splines parameters Ptilde_low lower bound asymptote Ptilde","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit FPET models for one marital group — fit_model","text":"fpemplus object.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_model_allwomen.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit model to produce all women estimates — fit_model_allwomen","title":"Fit model to produce all women estimates — fit_model_allwomen","text":"function called fit_fpem, model fitting women","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_model_allwomen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit model to produce all women estimates — fit_model_allwomen","text":"","code":"fit_model_allwomen(   data_allwomen,   runstep = \"local_national\",   population_df,   emu_list = NULL,   end_year,   chains = 4,   iter_sampling = 200,   iter_warmup = 150,   add_inits = FALSE,   add_sample = TRUE,   compile_model = TRUE,   force_recompile = FALSE,   seed = 1234,   refresh = 50,   adapt_delta = 0.9,   max_treedepth = 14,   variational = FALSE,   nthreads_variational = 8 )"},{"path":"https://alkemalab.github.io/fpet2/reference/fit_model_allwomen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit model to produce all women estimates — fit_model_allwomen","text":"data_allwomen list input data married data unmarried women runstep local_national local_subnational population_df pop counts geounit-year combi emu_list emu info `service_statistics_getstandata` chains Number chains Stan iter_sampling Number iterations sampling iter_warmup Number iterations warmup add_inits Use function sample initial values? Defaults FALSE add_sample TRUE compile_model TRUE force_recompile FALSE seed Random seed Stan refresh 10 adapt_delta 0.9 max_treedepth 14 variational FALSE nthreads_variational 8","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fit_model_allwomen.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit model to produce all women estimates — fit_model_allwomen","text":"results list stan_model, stan_data, samples, runstep","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/fpet2-package.html","id":null,"dir":"Reference","previous_headings":"","what":"fpet2: An R Package for Estimation and Forecasting of Family Planning Indicators — fpet2-package","title":"fpet2: An R Package for Estimation and Forecasting of Family Planning Indicators — fpet2-package","text":"fpet2 package implements Bayesian models estimation forecasting family planning Indicators.","code":""},{"path":[]},{"path":"https://alkemalab.github.io/fpet2/reference/fpet2-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"fpet2: An R Package for Estimation and Forecasting of Family Planning Indicators — fpet2-package","text":"Maintainer: Leontine Alkema lalkema@umass.edu Authors: Herbert Susmann herbps10@gmail.com Shauna Mooney Evan Ray","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_all_params_toreplace.html","id":null,"dir":"Reference","previous_headings":"","what":"Get all parameters to replace — get_all_params_toreplace","title":"Get all parameters to replace — get_all_params_toreplace","text":"Get parameters replace","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_all_params_toreplace.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get all parameters to replace — get_all_params_toreplace","text":"","code":"get_all_params_toreplace()"},{"path":"https://alkemalab.github.io/fpet2/reference/get_all_params_toreplace.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get all parameters to replace — get_all_params_toreplace","text":"vector parameter names replace","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_effective_samplesize.html","id":null,"dir":"Reference","previous_headings":"","what":"Get effective sample size from proportion and its standard error — get_effective_samplesize","title":"Get effective sample size from proportion and its standard error — get_effective_samplesize","text":"Get effective sample size proportion standard error","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_effective_samplesize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get effective sample size from proportion and its standard error — get_effective_samplesize","text":"","code":"get_effective_samplesize(p, se_p)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_effective_samplesize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get effective sample size from proportion and its standard error — get_effective_samplesize","text":"p proportion se_p standard error proportion","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_effective_samplesize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get effective sample size from proportion and its standard error — get_effective_samplesize","text":"effective sample size","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_estimates_fpem.html","id":null,"dir":"Reference","previous_headings":"","what":"Get estimates for all-women model fits — get_estimates_fpem","title":"Get estimates for all-women model fits — get_estimates_fpem","text":"function processes posterior samples FPET get estimates different marital status groups indicators. can also handle subnational estimation specified.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_estimates_fpem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get estimates for all-women model fits — get_estimates_fpem","text":"","code":"get_estimates_fpem(   samples,   geo_unit_index,   time_index,   subnational = FALSE,   return_samples = FALSE )"},{"path":"https://alkemalab.github.io/fpet2/reference/get_estimates_fpem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get estimates for all-women model fits — get_estimates_fpem","text":"samples tibble posterior samples columns indicators, geo_unit_index, time_index, value geo_unit_index geo_unit_index model fit time_index time_index model fit subnational boolean, TRUE, also computes national aggregates subnational models return_samples boolean, TRUE, returns posterior samples along summaries","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_estimates_fpem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get estimates for all-women model fits — get_estimates_fpem","text":"tibble estimates (mean percentiles) indicator marital status group","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_estimates_globalruns.html","id":null,"dir":"Reference","previous_headings":"","what":"Get estimates from global runs — get_estimates_globalruns","title":"Get estimates from global runs — get_estimates_globalruns","text":"keep function use global runs worked women yet aggregates","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_estimates_globalruns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get estimates from global runs — get_estimates_globalruns","text":"","code":"get_estimates_globalruns(   samples,   geo_unit_index,   time_index,   marital_status = \"married\",   return_samples = FALSE,   add_trad = TRUE )"},{"path":"https://alkemalab.github.io/fpet2/reference/get_estimates_globalruns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get estimates from global runs — get_estimates_globalruns","text":"samples tibble posterior samples columns indicators, geo_unit_index, time_index, value geo_unit_index geo_unit_index model fit time_index time_index model fit marital_status string, \"married\" \"unmarried\" return_samples boolean, TRUE, returns posterior samples along summaries add_trad boolean, TRUE, includes traditional use output","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_estimates_globalruns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get estimates from global runs — get_estimates_globalruns","text":"tibble estimates (mean percentiles) indicator marital status group","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Load a saved model fit — get_fit","title":"Load a saved model fit — get_fit","text":"helper function loads previously saved model fit based indicator name, run step, folder suffix.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load a saved model fit — get_fit","text":"","code":"get_fit(indicator, runstep, folder_suffix)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load a saved model fit — get_fit","text":"indicator Character string specifying indicator name (e.g., `\"ideliv\"`, `\"anc4\"`). runstep Character string indicating model step (e.g., `\"step1a\"`, `\"step1b\"`). folder_suffix Character numeric. suffix end folder name.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load a saved model fit — get_fit","text":"model fit object read RDS file.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hier_data_transition.html","id":null,"dir":"Reference","previous_headings":"","what":"Get hierarchical data for transition model — get_hier_data_transition","title":"Get hierarchical data for transition model — get_hier_data_transition","text":"Get hierarchical data transition model","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hier_data_transition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get hierarchical data for transition model — get_hier_data_transition","text":"","code":"get_hier_data_transition(   geo_unit_index,   prefix = \"\",   stan_data_settings,   stan_spline_data,   hierarchical_terms_and_fixed,   global_fit = NULL )"},{"path":"https://alkemalab.github.io/fpet2/reference/get_hier_data_transition.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get hierarchical data for transition model — get_hier_data_transition","text":"geo_unit_index geo_unit_index model fit prefix prefix add parameter names, e.g., \"d_\" \"z_\" stan_data_settings list stan data settings, e.g., bounds priors stan_spline_data stan data splines, needed dimension splines coeff vector hierarchical_terms_and_fixed list info levels fixed function global_fit fit object global fit, NULL local fit","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hier_data_transition.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get hierarchical data for transition model — get_hier_data_transition","text":"list hier_stan_data_settings, hier_stan_data, hier_data","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hier_data_transition_justomega.html","id":null,"dir":"Reference","previous_headings":"","what":"Get hierarchical data for Omegas in transition model — get_hier_data_transition_justomega","title":"Get hierarchical data for Omegas in transition model — get_hier_data_transition_justomega","text":"Perhaps combine `get_hier_data_transition`","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hier_data_transition_justomega.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get hierarchical data for Omegas in transition model — get_hier_data_transition_justomega","text":"","code":"get_hier_data_transition_justomega(   geo_unit_index,   prefix = \"\",   stan_data_settings,   hierarchical_terms_and_fixed,   global_fit = NULL,   runstep )"},{"path":"https://alkemalab.github.io/fpet2/reference/get_hier_data_transition_justomega.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get hierarchical data for Omegas in transition model — get_hier_data_transition_justomega","text":"geo_unit_index geo_unit_index model fit prefix prefix add parameter names, e.g., \"d_\" \"z_\" stan_data_settings list stan data settings, e.g., bounds priors hierarchical_terms_and_fixed list info levels fixed function global_fit fit object global fit, NULL local fit runstep model fitted","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hier_data_transition_justomega.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get hierarchical data for Omegas in transition model — get_hier_data_transition_justomega","text":"list hier_stan_data_settings, hier_stan_data, hier_data","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hierlevels.html","id":null,"dir":"Reference","previous_headings":"","what":"Get list with information on hierarchical levels for transition model parameters, and which ones to fix — get_hierlevels","title":"Get list with information on hierarchical levels for transition model parameters, and which ones to fix — get_hierlevels","text":"Get list information hierarchical levels transition model parameters, ones fix","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hierlevels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get list with information on hierarchical levels for transition model parameters, and which ones to fix — get_hierlevels","text":"","code":"get_hierlevels(   runstep,   hierarchical_terms = NULL,   global_fit = NULL,   prefix = \"\",   add_subnational_hierarchy = NULL )"},{"path":"https://alkemalab.github.io/fpet2/reference/get_hierlevels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get list with information on hierarchical levels for transition model parameters, and which ones to fix — get_hierlevels","text":"runstep character, model fit hierarchical_terms list hierarchical terms fit_model inputs NULL global_fit fit object global fit prefix character, prefix process model, e.g., \"\", d_\", \"z_\" add_subnational_hierarchy character, name subnational hierarchy level add, e.g., \"subnat\"","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hierlevels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get list with information on hierarchical levels for transition model parameters, and which ones to fix — get_hierlevels","text":"list hierarchical terms fixed","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hierlevels_omegatrad.html","id":null,"dir":"Reference","previous_headings":"","what":"Get list with information on hierarchical levels and which ones to fix for omegatrad — get_hierlevels_omegatrad","title":"Get list with information on hierarchical levels and which ones to fix for omegatrad — get_hierlevels_omegatrad","text":"Get list information hierarchical levels ones fix omegatrad","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hierlevels_omegatrad.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get list with information on hierarchical levels and which ones to fix for omegatrad — get_hierlevels_omegatrad","text":"","code":"get_hierlevels_omegatrad(   runstep,   hierarchical_terms = NULL,   global_fit = NULL,   prefix = \"\",   add_subnational_hierarchy = NULL )"},{"path":"https://alkemalab.github.io/fpet2/reference/get_hierlevels_omegatrad.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get list with information on hierarchical levels and which ones to fix for omegatrad — get_hierlevels_omegatrad","text":"runstep character, model fit hierarchical_terms list hierarchical terms fit_model inputs NULL global_fit fit object global fit prefix character, prefix process model (\"z_\" traditional) add_subnational_hierarchy character, name subnational hierarchy level add, e.g., \"subnat\"","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_hierlevels_omegatrad.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get list with information on hierarchical levels and which ones to fix for omegatrad — get_hierlevels_omegatrad","text":"list hierarchical terms fixed","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_modern_fromdemandanddemandsat.html","id":null,"dir":"Reference","previous_headings":"","what":"Get modern from demand and demand satisfied — get_modern_fromdemandanddemandsat","title":"Get modern from demand and demand satisfied — get_modern_fromdemandanddemandsat","text":"Model returns Eta (demandsat) d_Eta (demand) # real demand = inv_tr_eta(tr_d_Eta_obs[geo_unit[], time[]]); # modern[] = inv_tr_eta(tr_Eta_obs[geo_unit[], time[]]) * demand; # logit_unmetovernonmodern[] = logit((demand - modern[])/(1-modern[]));","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_modern_fromdemandanddemandsat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get modern from demand and demand satisfied — get_modern_fromdemandanddemandsat","text":"","code":"get_modern_fromdemandanddemandsat(demand, demand_satisfied)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_modern_fromdemandanddemandsat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get modern from demand and demand satisfied — get_modern_fromdemandanddemandsat","text":"demand demand demand_satisfied demand satisfied (modern/demand)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_modern_fromdemandanddemandsat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get modern from demand and demand satisfied — get_modern_fromdemandanddemandsat","text":"modern","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_nat_for_fitting.html","id":null,"dir":"Reference","previous_headings":"","what":"Get national data for subnational fitting — get_nat_for_fitting","title":"Get national data for subnational fitting — get_nat_for_fitting","text":"Get national data subnational fitting","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_nat_for_fitting.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get national data for subnational fitting — get_nat_for_fitting","text":"","code":"get_nat_for_fitting(national_dat_df, survey_df_use)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_nat_for_fitting.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get national data for subnational fitting — get_nat_for_fitting","text":"national_dat_df National survey data survey_df_use Subnational survey data used fitting","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_nat_for_fitting.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get national data for subnational fitting — get_nat_for_fitting","text":"Dataframe national data subnational survey data","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_nonse_standata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get stan data for non-sampling errors (nonse) — get_nonse_standata","title":"Get stan data for non-sampling errors (nonse) — get_nonse_standata","text":"Get stan data non-sampling errors (nonse)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_nonse_standata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get stan data for non-sampling errors (nonse) — get_nonse_standata","text":"","code":"get_nonse_standata(fix_nonse, global_fit, source_index, prefix = \"DM1_\")"},{"path":"https://alkemalab.github.io/fpet2/reference/get_nonse_standata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get stan data for non-sampling errors (nonse) — get_nonse_standata","text":"fix_nonse logical, whether fix nonse parameters values global fit global_fit fit object global fit, fix_nonse TRUE source_index source_index data frame local fit prefix prefix nonse parameters, defaults \"DM1_\"","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_nonse_standata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get stan data for non-sampling errors (nonse) — get_nonse_standata","text":"list stan data elements nonse","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_output_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get directory of output, located in parent of wd — get_output_dir","title":"Get directory of output, located in parent of wd — get_output_dir","text":"Get directory output, located parent wd","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_output_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get directory of output, located in parent of wd — get_output_dir","text":"","code":"get_output_dir(...)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_output_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get directory of output, located in parent of wd — get_output_dir","text":"... character string subdirectories bayestransition_output folder","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_output_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get directory of output, located in parent of wd — get_output_dir","text":"character string full path output directory","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_posterior_summaries_andfindpar.html","id":null,"dir":"Reference","previous_headings":"","what":"Get posterior summaries for parameters to fix — get_posterior_summaries_andfindpar","title":"Get posterior summaries for parameters to fix — get_posterior_summaries_andfindpar","text":"function collects posterior summaries set parameters","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_posterior_summaries_andfindpar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get posterior summaries for parameters to fix — get_posterior_summaries_andfindpar","text":"","code":"get_posterior_summaries_andfindpar(   fit,   process_indicator_prefixes = c(\"\", \"d_\", \"z_\"),   dm_indicator_prefixes = c(\"DM1_\", \"DM2_\", \"DM3_\"),   process_params = c(\"Betas_raw\", \"Betas_sigma\", \"Ptilde_raw\", \"Ptilde_sigma\",     \"Omega_raw\", \"Omega_sigma\"),   process_smoothing_params = c(\"Rho\", \"Tau\"),   process_subnat_smoothing_params = c(\"rho_correlationeps\"),   dm_params = c(\"nonse\", \"sdbias\", \"rho_pma\"),   dm_outlier_params = c(\"global_shrinkage_dm\", \"caux_dm\") )"},{"path":"https://alkemalab.github.io/fpet2/reference/get_posterior_summaries_andfindpar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get posterior summaries for parameters to fix — get_posterior_summaries_andfindpar","text":"fit fit object global fit process_indicator_prefixes defaults c(\"\", \"d_\", \"z_\") dm_indicator_prefixes defaults c(\"DM1_\", \"DM2_\", \"DM3_\") process_params defaults _raw _sigma Betas, Omega, Ptilde process_smoothing_params defaults c(\"Rho\", \"Tau\") process_subnat_smoothing_params defaults c(\"rho_correlationeps\") dm_params defaults c(\"nonse\", \"sdbias\", \"rho_pma\") dm_outlier_params defaults c(\"global_shrinkage_dm\", \"caux_dm\")","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_posterior_summaries_andfindpar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get posterior summaries for parameters to fix — get_posterior_summaries_andfindpar","text":"tibble posterior summaries parameters fix","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_relative_output_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get relative output directory path — get_relative_output_dir","title":"Get relative output directory path — get_relative_output_dir","text":"Constructs relative path subfolder inside `bayestransition_output`.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_relative_output_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get relative output directory path — get_relative_output_dir","text":"","code":"get_relative_output_dir(folder_name)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_relative_output_dir.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get relative output directory path — get_relative_output_dir","text":"folder_name Character. name subfolder inside `bayestransition_output`.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_relative_output_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get relative output directory path — get_relative_output_dir","text":"character string full path output directory","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_residuals.html","id":null,"dir":"Reference","previous_headings":"","what":"Get residuals — get_residuals","title":"Get residuals — get_residuals","text":"Get residuals","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_residuals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get residuals — get_residuals","text":"","code":"get_residuals(fit, is_married)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_residuals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get residuals — get_residuals","text":"fit fit object global fit is_married boolean","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_residuals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get residuals — get_residuals","text":"tibble survey data residuals","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_samples_for_indicators.html","id":null,"dir":"Reference","previous_headings":"","what":"Get samples for indicators — get_samples_for_indicators","title":"Get samples for indicators — get_samples_for_indicators","text":"function extracts samples specified indicators posterior samples object","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_samples_for_indicators.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get samples for indicators — get_samples_for_indicators","text":"","code":"get_samples_for_indicators(   indicators,   has_geo = TRUE,   samples,   geo_unit_index = NULL,   time_index,   stringtoremove = \"\",   rename_modern = FALSE )"},{"path":"https://alkemalab.github.io/fpet2/reference/get_samples_for_indicators.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get samples for indicators — get_samples_for_indicators","text":"indicators vector indicator names (e.g., c(\"contraceptive_use_modern\", \"unmet_need_modern\")) has_geo logical, TRUE indicators [geo_unit, time] indicators; FALSE, just [time] (aggregates) samples posterior samples object geo_unit_index data frame geo unit information (required has_geo TRUE) time_index data frame time information stringtoremove string remove indicator names rename_modern logical, TRUE renames indicators \"modern\", \"unmet\", \"trad\" full names","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_samples_for_indicators.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get samples for indicators — get_samples_for_indicators","text":"tibble samples specified indicators","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Binomial standard error from proportion and sample size — get_se","title":"Get Binomial standard error from proportion and sample size — get_se","text":"Get Binomial standard error proportion sample size","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Binomial standard error from proportion and sample size — get_se","text":"","code":"get_se(p, n)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_se.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Binomial standard error from proportion and sample size — get_se","text":"p proportion n sample size","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Binomial standard error from proportion and sample size — get_se","text":"standard error","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se_logitprop.html","id":null,"dir":"Reference","previous_headings":"","what":"Get standard error on logit scale from proportion and its standard error — get_se_logitprop","title":"Get standard error on logit scale from proportion and its standard error — get_se_logitprop","text":"Get standard error logit scale proportion standard error","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se_logitprop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get standard error on logit scale from proportion and its standard error — get_se_logitprop","text":"","code":"get_se_logitprop(prop, se_prop)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_se_logitprop.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get standard error on logit scale from proportion and its standard error — get_se_logitprop","text":"prop proportion se_prop standard error proportion (original scale)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se_logitprop.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get standard error on logit scale from proportion and its standard error — get_se_logitprop","text":"standard error logit scale","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se_sequentialdm.html","id":null,"dir":"Reference","previous_headings":"","what":"Get standard errors for FP indicators in sequential DM approach — get_se_sequentialdm","title":"Get standard errors for FP indicators in sequential DM approach — get_se_sequentialdm","text":"Get standard errors FP indicators sequential DM approach","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se_sequentialdm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get standard errors for FP indicators in sequential DM approach — get_se_sequentialdm","text":"","code":"get_se_sequentialdm(nat_data, use_small_SE_setting = TRUE)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_se_sequentialdm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get standard errors for FP indicators in sequential DM approach — get_se_sequentialdm","text":"nat_data data frame survey data use_small_SE_setting logical, TRUE (default), use smaller effective sample sizes imputing SEs","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_se_sequentialdm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get standard errors for FP indicators in sequential DM approach — get_se_sequentialdm","text":"tibble SEs added","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_smoothing_standata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get smoothing standata — get_smoothing_standata","title":"Get smoothing standata — get_smoothing_standata","text":"Get smoothing standata","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_smoothing_standata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get smoothing standata — get_smoothing_standata","text":"","code":"get_smoothing_standata(fix_smoothing, global_fit, prefix = \"\")"},{"path":"https://alkemalab.github.io/fpet2/reference/get_smoothing_standata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get smoothing standata — get_smoothing_standata","text":"fix_smoothing logical, whether fix smoothing parameters global_fit fit object global fit, used extract smoothing parameters fix_smoothing TRUE prefix prefix add parameter names, defaults \"\"","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_smoothing_standata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get smoothing standata — get_smoothing_standata","text":"list smoothing standata","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_stan_spline_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get spline data inputs for Stan model — get_stan_spline_data","title":"Get spline data inputs for Stan model — get_stan_spline_data","text":"Get spline data inputs Stan model","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_stan_spline_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get spline data inputs for Stan model — get_stan_spline_data","text":"","code":"get_stan_spline_data(num_knots, spline_degree)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_stan_spline_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get spline data inputs for Stan model — get_stan_spline_data","text":"num_knots number knots spline_degree degree spline","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_stan_spline_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get spline data inputs for Stan model — get_stan_spline_data","text":"list spline data inputs Stan model","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_unmet_fromdemandandmodern.html","id":null,"dir":"Reference","previous_headings":"","what":"Get unmet from demand and modern — get_unmet_fromdemandandmodern","title":"Get unmet from demand and modern — get_unmet_fromdemandandmodern","text":"Get unmet demand modern","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_unmet_fromdemandandmodern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get unmet from demand and modern — get_unmet_fromdemandandmodern","text":"","code":"get_unmet_fromdemandandmodern(demand, modern)"},{"path":"https://alkemalab.github.io/fpet2/reference/get_unmet_fromdemandandmodern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get unmet from demand and modern — get_unmet_fromdemandandmodern","text":"demand demand modern modern","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/get_unmet_fromdemandandmodern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get unmet from demand and modern — get_unmet_fromdemandandmodern","text":"unmet","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/indicate_rounding.html","id":null,"dir":"Reference","previous_headings":"","what":"Indicate rounding — indicate_rounding","title":"Indicate rounding — indicate_rounding","text":"Taken UNPD/fpemlocal","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/indicate_rounding.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Indicate rounding — indicate_rounding","text":"","code":"indicate_rounding(x)"},{"path":"https://alkemalab.github.io/fpet2/reference/indicate_rounding.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Indicate rounding — indicate_rounding","text":"x proportion check","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/indicate_rounding.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Indicate rounding — indicate_rounding","text":"indicator variable (1 x < 0.001, else 0)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/init_fun.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialization function for stan model — init_fun","title":"Initialization function for stan model — init_fun","text":"Initialization function stan model","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/init_fun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialization function for stan model — init_fun","text":"","code":"init_fun(chain_id, stan_data)"},{"path":"https://alkemalab.github.io/fpet2/reference/init_fun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Initialization function for stan model — init_fun","text":"chain_id integer chain id stan_data list stan data","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/init_fun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialization function for stan model — init_fun","text":"list initial values parameters","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/inv_logit.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse logit function — inv_logit","title":"Inverse logit function — inv_logit","text":"Inverse logit function","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/inv_logit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse logit function — inv_logit","text":"","code":"inv_logit(x)"},{"path":"https://alkemalab.github.io/fpet2/reference/inv_logit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inverse logit function — inv_logit","text":"x input value","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/inv_logit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inverse logit function — inv_logit","text":"inverse logit x","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/load_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Load fit — load_fit","title":"Load fit — load_fit","text":"Load fit object. fit saved folder contains file named `fit.rds` fpemplus object well csv files produced cmdstanr result estimation process.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/load_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load fit — load_fit","text":"","code":"load_fit(path)"},{"path":"https://alkemalab.github.io/fpet2/reference/load_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load fit — load_fit","text":"path path folder containing model fit","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/load_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load fit — load_fit","text":"object class fpemplus","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/logit.html","id":null,"dir":"Reference","previous_headings":"","what":"probit <- function(x) pnorm(x) # stan #phiapprox <- function(x) inv_logit(0.07056 * x ^ 3 + 1.5976 * x) inv_probit <- function(x) qnorm(x) — logit","title":"probit <- function(x) pnorm(x) # stan #phiapprox <- function(x) inv_logit(0.07056 * x ^ 3 + 1.5976 * x) inv_probit <- function(x) qnorm(x) — logit","text":"#' Get standard error inverse probit scale proportion standard error #' #' @param prop proportion #' @param se_prop standard error proportion (original scale) #' #' @returns standard error inverse probit scale #' @keywords internal get_se_invprobitprop <- function(prop, se_prop)   # se_prop*abs(derivate evaluated prop)   se_prop*1/dnorm(inv_probit(prop))  Logit function","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/logit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"probit <- function(x) pnorm(x) # stan #phiapprox <- function(x) inv_logit(0.07056 * x ^ 3 + 1.5976 * x) inv_probit <- function(x) qnorm(x) — logit","text":"","code":"logit(x)"},{"path":"https://alkemalab.github.io/fpet2/reference/logit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"probit <- function(x) pnorm(x) # stan #phiapprox <- function(x) inv_logit(0.07056 * x ^ 3 + 1.5976 * x) inv_probit <- function(x) qnorm(x) — logit","text":"x input value","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/logit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"probit <- function(x) pnorm(x) # stan #phiapprox <- function(x) inv_logit(0.07056 * x ^ 3 + 1.5976 * x) inv_probit <- function(x) qnorm(x) — logit","text":"logit x","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_eps.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Epsilon Innovations — plot_eps","title":"Plot Epsilon Innovations — plot_eps","text":"Plot Epsilon Innovations","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_eps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Epsilon Innovations — plot_eps","text":"","code":"plot_eps(fit, is_married, estimates_df, add_trad = FALSE)"},{"path":"https://alkemalab.github.io/fpet2/reference/plot_eps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Epsilon Innovations — plot_eps","text":"fit fit object global fit is_married boolean estimates_df dataframe estimates add_trad boolean, whether add traditional epsilon innovations","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_eps.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Epsilon Innovations — plot_eps","text":"NULL, saves plots fit$output_dir/eps.pdf","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_estimates_local.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot FP estimates for one country/region, marital status, and indicator — plot_estimates_local","title":"Plot FP estimates for one country/region, marital status, and indicator — plot_estimates_local","text":"Plot FP estimates one country/region, marital status, indicator","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_estimates_local.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot FP estimates for one country/region, marital status, and indicator — plot_estimates_local","text":"","code":"plot_estimates_local(   estimates,   filtered_data,   indicator_select,   estimates2 = NULL,   estimates3 = NULL,   estimates4 = NULL,   modelnames = c(\"model1\", \"model2\"),   cols_sourcetypes = c(DHS = \"red\", DHS0 = \"red\", MICS = \"blue\", PMA = \"darkgreen\", Other     = \"orange\", `National survey` = \"purple\") )"},{"path":"https://alkemalab.github.io/fpet2/reference/plot_estimates_local.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot FP estimates for one country/region, marital status, and indicator — plot_estimates_local","text":"estimates estimates filtered_data observations indicator_select indicator estimates2 optional second model estimates compare estimates3 optional third model estimates compare estimates4 optional fourth model estimates compare modelnames names models use legend comparing one model cols_sourcetypes colors use data source types","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_estimates_local.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot FP estimates for one country/region, marital status, and indicator — plot_estimates_local","text":"ggplot object","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_estimates_local_all.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot FP estimates — plot_estimates_local_all","title":"Plot FP estimates — plot_estimates_local_all","text":"Plot FP estimates multiple countries/regions, marital status, indicators","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_estimates_local_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot FP estimates — plot_estimates_local_all","text":"","code":"plot_estimates_local_all(   iso_select = NULL,   subnational = FALSE,   results,   marital_status_all = c(\"married\", \"unmarried\", \"all\"),   indicator_select_all = c(\"contraceptive_use_modern\", \"unmet_need_modern\", \"demand\",     \"demand_satisfied_modern\", \"contraceptive_use_traditional\", \"contraceptive_use_any\",     \"unmet_need_any\", \"demand_satisfied\"),   dat_emu = NULL,   results2 = NULL,   results3 = NULL,   results4 = NULL,   modelnames = NULL,   add_title = TRUE,   nrow_plot = 2,   save_plots = TRUE,   cols_emus = c(clients = \"red\", visits = \"blue\", facilities = \"darkgreen\", users =     \"orange\"),   output_folder = NULL,   plot_name = \"estimates\" )"},{"path":"https://alkemalab.github.io/fpet2/reference/plot_estimates_local_all.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot FP estimates — plot_estimates_local_all","text":"iso_select name names country iso region code subnational logical, whether subnational national results output fit_fpem() marital_status_all choice c(\"married\", \"unmarried\", \"\") indicator_select_all choice c(\"contraceptive_use_modern\", \"unmet_need_modern\", \"demand\", \"demand_satisfied_modern\") dat_emu data frame emu data, NULL, plot emu data results2 optional second model results compare results3 optional third model results compare results4 optional fourth model results compare modelnames names models use legend comparing one model add_title logical, whether add title plot nrow_plot plotting 4 indicators, use 1 2 rows save_plots logical, whether save plots pdf cols_emus colors use emu data types output_folder folder save plots plot_name name pdf file save plots ","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_estimates_local_all.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot FP estimates — plot_estimates_local_all","text":"list plots selected countries/regions, marital status, indicators","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_hierchecks.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot hierarchical checks — plot_hierchecks","title":"Plot hierarchical checks — plot_hierchecks","text":"Plot hierarchical checks","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_hierchecks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot hierarchical checks — plot_hierchecks","text":"","code":"plot_hierchecks(   fit,   is_married,   add_priors_transitions = TRUE,   add_priors_trad = FALSE,   add_trad = FALSE )"},{"path":"https://alkemalab.github.io/fpet2/reference/plot_hierchecks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot hierarchical checks — plot_hierchecks","text":"fit fit object global fit is_married logical, married model? add_priors_transitions Plot prior-posts sigmas? add_priors_trad Plot prior-posts trad sigmas? add_trad Plot trad parameters?","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_hierchecks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot hierarchical checks — plot_hierchecks","text":"NULL, saves pdf plots output directory","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_residuals.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot residuals — plot_residuals","title":"Plot residuals — plot_residuals","text":"Plot residuals","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_residuals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot residuals — plot_residuals","text":"","code":"plot_residuals(fit, is_married)"},{"path":"https://alkemalab.github.io/fpet2/reference/plot_residuals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot residuals — plot_residuals","text":"fit fit object global fit is_married boolean","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_residuals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot residuals — plot_residuals","text":"NULL, saves residual plots output_dir","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_subnational_comparison.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot subnational comparison — plot_subnational_comparison","title":"Plot subnational comparison — plot_subnational_comparison","text":"Plot subnational comparison","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_subnational_comparison.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot subnational comparison — plot_subnational_comparison","text":"","code":"plot_subnational_comparison(   results,   indicator_select,   year_select,   marital_status_select,   ymin_select = 0,   ymax_select = NA,   arrange_point = TRUE )"},{"path":"https://alkemalab.github.io/fpet2/reference/plot_subnational_comparison.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot subnational comparison — plot_subnational_comparison","text":"results output fit_fpem() indicator_select choice c(\"contraceptive_use_modern\", \"unmet_need_modern\", \"demand\", \"demand_satisfied_modern\") year_select year plot marital_status_select choice c(\"\", \"married\", \"unmarried\") ymin_select default 0 ymax_select default NA arrange_point logical, TRUE arrange points value indicator_select","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/plot_subnational_comparison.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot subnational comparison — plot_subnational_comparison","text":"ggplot object","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/process_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process survey data — process_data","title":"Process survey data — process_data","text":"Process survey data","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/process_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process survey data — process_data","text":"","code":"process_data(dat, regions_dat, start_year = 1970, is_married = TRUE)"},{"path":"https://alkemalab.github.io/fpet2/reference/process_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process survey data — process_data","text":"dat Survey data regions_dat File region meta data start_year Filter data prior year is_married Logical, select married women data?","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/process_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process survey data — process_data","text":"Processed survey data","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/regions_all.html","id":null,"dir":"Reference","previous_headings":"","what":"Region meta data — regions_all","title":"Region meta data — regions_all","text":"Dataset meta information countries regional groupings.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/regions_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Region meta data — regions_all","text":"","code":"regions_all"},{"path":"https://alkemalab.github.io/fpet2/reference/regions_all.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Region meta data — regions_all","text":"tibble, one row per country. Variables include division_numeric_code Divison numeric code name_country Name country cluster Name cluster subcluster Name subcluster is_unmarried_sexual_activity SA0 indicator","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/rename_output_folder.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename output folder and directory in fit object — rename_output_folder","title":"Rename output folder and directory in fit object — rename_output_folder","text":"Renames existing folder `bayestransition_output`updates `output_dir` model fit object.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/rename_output_folder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename output folder and directory in fit object — rename_output_folder","text":"","code":"rename_output_folder(indicator, run_step, old_folder_name, new_folder_name)"},{"path":"https://alkemalab.github.io/fpet2/reference/rename_output_folder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rename output folder and directory in fit object — rename_output_folder","text":"indicator Character. Indicator name. run_step Character. Run step - either 1a, 1b, local_national. old_folder_name Character. current folder name (inside `bayestransition_output`). new_folder_name Character. new name rename folder .","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/rename_output_folder.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rename output folder and directory in fit object — rename_output_folder","text":"NULL. function performs renaming updates fit object place.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/replacesomething_inblock.html","id":null,"dir":"Reference","previous_headings":"","what":"Replace something in block — replacesomething_inblock","title":"Replace something in block — replacesomething_inblock","text":"Replace something block","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/replacesomething_inblock.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Replace something in block — replacesomething_inblock","text":"","code":"replacesomething_inblock(   block,   params = c(\"Epsilon\", \"Eta\", \"Betas\", \"Ptilde\", \"Omega\", \"Rho\", \"Tau\"),   prefix = \"d_\" )"},{"path":"https://alkemalab.github.io/fpet2/reference/replacesomething_inblock.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Replace something in block — replacesomething_inblock","text":"block string stan code block params vector parameter names replace prefix prefix add parameter names","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/replacesomething_inblock.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Replace something in block — replacesomething_inblock","text":"modified block","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/round_from_zero.html","id":null,"dir":"Reference","previous_headings":"","what":"Round from zero — round_from_zero","title":"Round from zero — round_from_zero","text":"Taken UNPD/fpemlocal: https://github.com/AlkemaLab/fpemlocal/blob/master/R/rounding_and_recalculation.R","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/round_from_zero.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Round from zero — round_from_zero","text":"","code":"round_from_zero(x)"},{"path":"https://alkemalab.github.io/fpet2/reference/round_from_zero.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Round from zero — round_from_zero","text":"x proportion round","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/round_from_zero.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Round from zero — round_from_zero","text":"proportions less 0.001 rounded upwards 0.001","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/service_statistics_getstandata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Stan data for service statistics data — service_statistics_getstandata","title":"Get Stan data for service statistics data — service_statistics_getstandata","text":"function called fit_fpem, prepare service statistics data use model fitting","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/service_statistics_getstandata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Stan data for service statistics data — service_statistics_getstandata","text":"","code":"service_statistics_getstandata(   service_statistic_df,   time_index,   hyper_param,   geo_unit_index )"},{"path":"https://alkemalab.github.io/fpet2/reference/service_statistics_getstandata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Stan data for service statistics data — service_statistics_getstandata","text":"service_statistic_df emus filtered pop (eg country) time_index time_index used model fit hyper_param hyper parameters EMUs used model fit geo_unit_index geo_unit_index used model fit","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/service_statistics_getstandata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Stan data for service statistics data — service_statistics_getstandata","text":"list dat_emu (plotting) emu_list (pass stan)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/std_name_country.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardize country names — std_name_country","title":"Standardize country names — std_name_country","text":"Standardize country names","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/std_name_country.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standardize country names — std_name_country","text":"","code":"std_name_country(name_country)"},{"path":"https://alkemalab.github.io/fpet2/reference/std_name_country.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standardize country names — std_name_country","text":"name_country country name","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/std_name_country.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardize country names — std_name_country","text":"Standardized country name","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/subpopulation_descriptions.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign descriptions for subpopulations — subpopulation_descriptions","title":"Assign descriptions for subpopulations — subpopulation_descriptions","text":"Assign descriptions subpopulations","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/subpopulation_descriptions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign descriptions for subpopulations — subpopulation_descriptions","text":"","code":"subpopulation_descriptions(contraceptive_use)"},{"path":"https://alkemalab.github.io/fpet2/reference/subpopulation_descriptions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign descriptions for subpopulations — subpopulation_descriptions","text":"contraceptive_use data set information subgroups","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/subpopulation_descriptions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign descriptions for subpopulations — subpopulation_descriptions","text":"descriptions subpopulations","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/subpopulation_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign labels for subpopulations — subpopulation_labels","title":"Assign labels for subpopulations — subpopulation_labels","text":"Taken UNPD/fpemlocal: see https://github.com/AlkemaLab/fpemlocal/blob/master/R/subpopulation_labels.R","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/subpopulation_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign labels for subpopulations — subpopulation_labels","text":"","code":"subpopulation_labels(contraceptive_use)"},{"path":"https://alkemalab.github.io/fpet2/reference/subpopulation_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign labels for subpopulations — subpopulation_labels","text":"contraceptive_use","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/subpopulation_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign labels for subpopulations — subpopulation_labels","text":"labels subpopulations","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/summarize_fp_helper.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize family planning indicators helper — summarize_fp_helper","title":"Summarize family planning indicators helper — summarize_fp_helper","text":"function summarizes family planning indicators samples","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/summarize_fp_helper.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize family planning indicators helper — summarize_fp_helper","text":"","code":"summarize_fp_helper(samples)"},{"path":"https://alkemalab.github.io/fpet2/reference/summarize_fp_helper.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize family planning indicators helper — summarize_fp_helper","text":"samples tibble columns indicator value, indicator includes (unmet_need_any, contraceptive_use_modern, contraceptive_use_traditional)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/summarize_fp_helper.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize family planning indicators helper — summarize_fp_helper","text":"tibble additional family planning indicators calculated","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/summarize_samples.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize samples — summarize_samples","title":"Summarize samples — summarize_samples","text":"Summarize samples","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/summarize_samples.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize samples — summarize_samples","text":"","code":"summarize_samples(   samples,   percentiles = c(0.025, 0.05, 0.1, 0.5, 0.9, 0.95, 0.975) )"},{"path":"https://alkemalab.github.io/fpet2/reference/summarize_samples.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize samples — summarize_samples","text":"samples tibble `value` column grouping columns percentiles vector percentiles compute","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/summarize_samples.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize samples — summarize_samples","text":"tibble summary columns (mean percentiles) group","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/update_nooutlier_in_global_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Use global fit 1a residuals to update assignment of outlier errors — update_nooutlier_in_global_fit","title":"Use global fit 1a residuals to update assignment of outlier errors — update_nooutlier_in_global_fit","text":"function, calculate residuals global fit 1a update `nooutlier` column use model fitting. function, `nooutlier` set 0 observations outlying 1a, defined observations absolute standardized residuals 90th percentile. setting `nooutlier` zero, outlier errors assigned. (Naming column can use update!)","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/update_nooutlier_in_global_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use global fit 1a residuals to update assignment of outlier errors — update_nooutlier_in_global_fit","text":"","code":"update_nooutlier_in_global_fit(fit, is_married)"},{"path":"https://alkemalab.github.io/fpet2/reference/update_nooutlier_in_global_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use global fit 1a residuals to update assignment of outlier errors — update_nooutlier_in_global_fit","text":"fit global fit 1a is_married logical","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/update_nooutlier_in_global_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Use global fit 1a residuals to update assignment of outlier errors — update_nooutlier_in_global_fit","text":"data frame updated nooutlier column.","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/write_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Write stan models — write_model","title":"Write stan models — write_model","text":"Write stan models","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/write_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write stan models — write_model","text":"","code":"write_model(   add_aggregates = FALSE,   add_trad = TRUE,   all_women = FALSE,   add_emu = FALSE )"},{"path":"https://alkemalab.github.io/fpet2/reference/write_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write stan models — write_model","text":"add_aggregates Add national aggregates? makes sense subnational -region run 1 country add_trad Include trad use estimation data? all_women Estimate all_women marital group? add_emu Include EMU estimation data?","code":""},{"path":"https://alkemalab.github.io/fpet2/reference/write_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write stan models — write_model","text":"writes stan file stan directory. model files named based options chosen.","code":""}]
